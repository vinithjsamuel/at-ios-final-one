<div class="scrollable">
  <div class="scrollable-content container-fluid section">
    <div class="clsPageDesc">
      <div class="list bookappointCls">
        <label ng-if="isAppointCode" class="item item-input item-stacked-label">
          <span class="input-label">Enter Appointment Code:</span>
          <input type="text" ng-model="bookappoint.appointmentcode">
          <span style="white-space:initial;color:#fff;">Your Appointment Code is mentioned on your Voucher! (eg: 14xxxxxxxxx)</span>
          <span ng-bind-html="messageValidation" style="color:green"></span>
        </label>
        <label ng-if="!isAppointCode" class="item item-input item-stacked-label">
          <span class="input-label">Select Category: </span>
          <select id="appointmentCategoryId" ng-model="bookappoint.category">
            <option value="">---Please select---</option>
            <option ng-repeat="category in categories" ng-if="catDealCount(category.slug)!=0" value="{{category.slug}}">{{category.name}}</option>
          </select>
        </label>
        <label ng-if="!isAppointCode && bookappoint.category" class="item item-input item-stacked-label">
          <span class="input-label">Select Deal: </span>
          <select id="appointmentDealId" ng-model="bookappoint.deal">
            <option value="">---Please select---</option>
            <option ng-repeat="deal in deals" ng-if='deal.cat_slug.indexOf(bookappoint.category) > -1' value="{{deal.post_name}}">{{deal.post_title}}-AED {{deal.deal_discount_price}}</option>
          </select>
        </label>
        <label ng-if="!isAppointCode && bookappoint.category && bookappoint.deal && isDealOption(bookappoint.deal)" class="item item-input item-stacked-label">
          <span class="input-label">Select Deal Option: </span>
          <select id="appointmentOptionId" ng-model="bookappoint.option">
            <option ng-repeat="dealoption in appointDealOptions" ng-value="$index">AED {{dealoption.aes_product_opt_discounted_price}}: {{dealoption.aes_product_opt_tle}}</option>
          </select>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Name:</span>
          <input ng-disabled="isDisabled" ng-model="bookappoint.name" type="text">
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Telephone/Mobile:</span>
          <input ng-disabled="isDisabled" type="text" ng-model="bookappoint.contact">
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Email:</span>
          <input ng-disabled="isDisabled" type="text" ng-model="bookappoint.email">
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Availability:</span>
        </label>
        <div class="availabilityCls">
          <div class="item item-divider">
            Preference 1
          </div>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Date:&nbsp;&nbsp;</span>
              <input ng-disabled="isDisabled" ng-model="bookappoint.preference1_date" class="bookappointmentInputCls" type="date" name="date" required>
            </label>
          </span>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Time:&nbsp;&nbsp;</span>
              <select ng-disabled="isDisabled" ng-model="bookappoint.preference1_time_from" class="bookappointmentSelectCls" required>
                                  <option value="">from</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
                              <span>&nbsp;&nbsp;--&nbsp;&nbsp;</span>
                              <select ng-disabled="isDisabled" ng-model="bookappoint.preference1_time_to" class="bookappointmentSelectCls" required>
                                  <option value="">to</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
            </label>
          </span>
          <br>
          <div class="item item-divider">
            Preference 2
          </div>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Date:&nbsp;&nbsp;</span>
              <input ng-disabled="isDisabled" ng-model="bookappoint.preference2_date" class="bookappointmentInputCls" type="date" name="date" required>
            </label>
          </span>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Time:&nbsp;&nbsp;</span>
              <select ng-disabled="isDisabled" ng-model="bookappoint.preference2_time_from" class="bookappointmentSelectCls" required>
                                  <option value="">from</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
                              <span>&nbsp;&nbsp;--&nbsp;&nbsp;</span>
                              <select ng-disabled="isDisabled" ng-model="bookappoint.preference2_time_to" class="bookappointmentSelectCls" required>
                                  <option value="">to</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
            </label>
          </span>
          <br>
          <div class="item item-divider">
            Preference 3
          </div>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Date:&nbsp;&nbsp;</span>
              <input ng-disabled="isDisabled" ng-model="bookappoint.preference3_date" class="bookappointmentInputCls" type="date" name="date" required>
            </label>
          </span>
          <span class="item">
            <label class="availabilityClsLabel item item-input">
              <span>Time:&nbsp;&nbsp;</span>
              <select ng-disabled="isDisabled" ng-model="bookappoint.preference3_time_from" class="bookappointmentSelectCls" required>
                                  <option value="">from</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
                              <span>&nbsp;&nbsp;--&nbsp;&nbsp;</span>
                              <select ng-disabled="isDisabled" ng-model="bookappoint.preference3_time_to" class="bookappointmentSelectCls" required>
                                  <option value="">to</option>
                                  <option value="8.00 am">8.00 am</option><option value="8.30 am">8.30 am</option><option value="9.00 am">9.00 am</option><option value="9.30 am">9.30 am</option><option value="10.00 am">10.00 am</option><option value="10.30 am">10.30 am</option><option value="11.00 am">11.00 am</option><option value="11.30 am">11.30 am</option><option value="12.00 pm">12.00 pm</option><option value="12.30 pm">12.30 pm</option><option value="1.00 pm">1.00 pm</option><option value="1.30 pm">1.30 pm</option><option value="2.00 pm">2.00 pm</option><option value="2.30 pm">2.30 pm</option><option value="3.00 pm">3.00 pm</option><option value="3.30 pm">3.30 pm</option><option value="4.00 pm">4.00 pm</option><option value="4.30 pm">4.30 pm</option><option value="5.00 pm">5.00 pm</option><option value="5.30 pm">5.30 pm</option><option value="6.00 pm">6.00 pm</option><option value="6.30 pm">6.30 pm</option><option value="7.00 pm">7.00 pm</option><option value="7.30 pm">7.30 pm</option><option value="8.00 pm">8.00 pm</option><option value="8.30 pm">8.30 pm</option><option value="9.00 pm">9.00 pm</option><option value="9.30 pm">9.30 pm</option><option value="10.00 pm">10.00 pm</option>
                              </select>
            </label>
          </span>
          </div>
          <br>
        <button ng-disabled="isDisabled" ng-click="submitAppointment(bookappoint)" class="appointmentSubmitBtn button button-full">
          Appointment Request
        </button>
      </div>
      <p><i class="fa fa-info-circle"></i> We will forward your request to the merchant & will get back to you with the confirmation shortly.</p><br>
    </div>
  </div>
</div>

<div overlay="appointmentOverlay" default="active">
  <div class="appointment-overlay">
    <h4 class="overlay-title">Already Purchased your Voucher?</h4>    
    <p toggle="off" bubble target="appointmentOverlay">
      <span ng-click="setAppointCode('yes')" class="btn btn-primary">YES</span>
      <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <a ng-href="#/categories"><span class="btn btn-primary">NO</span></a>
    </p>
    <p><i class="fa fa-info-circle"></i> Appointment Code is mentioned on each voucher!</p>
  </div>
</div>